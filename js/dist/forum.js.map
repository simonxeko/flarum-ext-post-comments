{"version":3,"sources":["webpack://@simonxeko/post-threads/webpack/bootstrap","webpack://@simonxeko/post-threads/./forum.js","webpack://@simonxeko/post-threads/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://@simonxeko/post-threads/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@simonxeko/post-threads/./src/forum/components/CommentComposer.js","webpack://@simonxeko/post-threads/./src/forum/components/CommentDisplay.js","webpack://@simonxeko/post-threads/./src/forum/components/CommentsList.js","webpack://@simonxeko/post-threads/./src/forum/components/EditCommentComposer.js","webpack://@simonxeko/post-threads/./src/forum/index.js","webpack://@simonxeko/post-threads/./src/forum/models/Comment.js","webpack://@simonxeko/post-threads/external \"flarum.core.compat['Component']\"","webpack://@simonxeko/post-threads/external \"flarum.core.compat['Model']\"","webpack://@simonxeko/post-threads/external \"flarum.core.compat['components/Alert']\"","webpack://@simonxeko/post-threads/external \"flarum.core.compat['components/Button']\"","webpack://@simonxeko/post-threads/external \"flarum.core.compat['components/CommentPost']\"","webpack://@simonxeko/post-threads/external \"flarum.core.compat['components/ComposerBody']\"","webpack://@simonxeko/post-threads/external \"flarum.core.compat['components/LogInModal']\"","webpack://@simonxeko/post-threads/external \"flarum.core.compat['extend']\"","webpack://@simonxeko/post-threads/external \"flarum.core.compat['helpers/avatar']\"","webpack://@simonxeko/post-threads/external \"flarum.core.compat['helpers/humanTime']\"","webpack://@simonxeko/post-threads/external \"flarum.core.compat['helpers/icon']\"","webpack://@simonxeko/post-threads/external \"flarum.core.compat['utils/DiscussionControls']\"","webpack://@simonxeko/post-threads/external \"flarum.core.compat['utils/computed']\"","webpack://@simonxeko/post-threads/external \"flarum.core.compat['utils/extractText']\"","webpack://@simonxeko/post-threads/external \"flarum.core.compat['utils/string']\""],"names":["minimizeComposerIfFullScreen","e","app","composer","isFullScreen","minimize","stopPropagation","CommentComposer","init","editor","props","preview","m","route","discussion","initProps","placeholder","extractText","translator","trans","submitLabel","confirmExit","headerItems","items","post","comment","to_user","routeAndMinimize","element","isInitialized","$","on","apply","arguments","add","icon","displayName","id","data","content","relationships","onsubmit","target_frame","loading","redraw","store","createRecord","save","then","viewingDiscussion","current","stream","update","goToNumber","number","alert","viewButton","Button","component","className","children","onclick","alerts","dismiss","show","Alert","type","message","controls","hide","loaded","bind","ComposerBody","CommentDisplay","view","user","likes","isLiked","session","some","avatar","style","attributes","humanTime","createdAt","canLike","likeComment","length","canEdit","editComment","canDelete","deleteComment","canReply","replyComment","canFlag","canHide","Component","CommentsList","insertMention","quote","mention","username","originalContent","cursorPosition","getSelectionRange","preceding","value","slice","precedingNewlines","match","insertAtCursor","Array","join","trim","replace","context","console","log","like","i","splice","unshift","freshness","Date","composingReplyTo","forceRefresh","load","modal","LogInModal","deferred","EditCommentComposer","resolve","promise","removeComment","contentHtml","comments","map","editedContent","title","reply","initializers","models","posts","prototype","Model","hasMany","Comment","extend","CommentPost","isHidden","attribute","hasOne","transformDate","contentType","contentPlain","computed","getPlainContent","editedAt","editedUser","isEdited","hiddenAt","hiddenUser"],"mappings":"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","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./forum.js\");\n","export * from './src/forum';\r\n","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","import ComposerBody from 'flarum/components/ComposerBody';\nimport Alert from 'flarum/components/Alert';\nimport Button from 'flarum/components/Button';\nimport icon from 'flarum/helpers/icon';\nimport extractText from 'flarum/utils/extractText';\n\nfunction minimizeComposerIfFullScreen(e) {\n  if (app.composer.isFullScreen()) {\n    app.composer.minimize();\n    e.stopPropagation();\n  }\n}\n\n/**\n * The `CommentComposer` component displays the composer content for replying to a\n * discussion.\n *\n * ### Props\n *\n * - All of the props of ComposerBody\n * - `discussion`\n */\nexport default class CommentComposer extends ComposerBody {\n  init() {\n    super.init();\n\n    this.editor.props.preview = e => {\n      minimizeComposerIfFullScreen(e);\n\n      m.route(app.route.discussion(this.props.discussion, 'reply'));\n    };\n  }\n\n  static initProps(props) {\n    super.initProps(props);\n\n    props.placeholder = props.placeholder || extractText(app.translator.trans('core.forum.composer_reply.body_placeholder'));\n    props.submitLabel = props.submitLabel || app.translator.trans('core.forum.composer_reply.submit_button');\n    props.confirmExit = props.confirmExit || extractText(app.translator.trans('core.forum.composer_reply.discard_confirmation'));\n  }\n\n  headerItems() {\n    const items = super.headerItems();\n    const discussion = this.props.discussion;\n    const post = this.props.post;\n    const comment = this.props.comment;\n    const to_user = this.props.to_user;\n\n    const routeAndMinimize = function(element, isInitialized) {\n      if (isInitialized) return;\n      $(element).on('click', minimizeComposerIfFullScreen);\n      m.route.apply(this, arguments);\n    };\n\n    items.add('title', (\n      <h3>\n        {icon('fas fa-reply')} {' '}\n        <a href={app.route.post(post)} config={routeAndMinimize}>@{to_user.displayName()} #{comment ? comment.id() : post.id()}</a>\n      </h3>\n    ));\n\n    return items;\n  }\n\n  /**\n   * Get the data to submit to the server when the reply is saved.\n   *\n   * @return {Object}\n   */\n  data() {\n    return {\n      content: this.content(),\n      relationships: {\n          discussion: this.props.discussion,\n          post: this.props.post\n      }\n    };\n  }\n\n  onsubmit() {\n    const discussion = this.props.discussion;\n    const post = this.props.post;\n    const target_frame = this.props.target_frame;\n\n    if (target_frame) target_frame.loading = true;\n    this.loading = true;\n    m.redraw();\n\n    const data = this.data();\n\n    app.store.createRecord('comments').save(data).then(\n      comment => {\n        // If we're currently viewing the discussion which this reply was made\n        // in, then we can update the comment stream and scroll to the comment.\n        if (app.viewingDiscussion(discussion)) {\n          app.current.stream.update().then(() => app.current.stream.goToNumber(comment.number())).then(() => { if(target_frame) {target_frame.loading = false;} m.redraw(); } );\n\n        } else {\n          // Otherwise, we'll create an alert message to inform the user that\n          // their reply has been posted, containing a button which will\n          // transition to their new comment when clicked.\n          let alert;\n          const viewButton = Button.component({\n            className: 'Button Button--link',\n            children: app.translator.trans('core.forum.composer_reply.view_button'),\n            onclick: () => {\n                /// TODODODODOO\n                /// TODODODODOO\n                /// TODODODODOO\n                /// TODODODODOO\n                /// Replace to comment? (Works for display..)\n              m.route(app.route.post(post));\n              app.alerts.dismiss(alert);\n            }\n          });\n          app.alerts.show(\n            alert = new Alert({\n              type: 'success',\n              message: app.translator.trans('core.forum.composer_reply.posted_message'),\n              controls: [viewButton]\n            })\n          );\n          if (target_frame) target_frame.loading = false;\n        }\n\n        app.composer.hide();\n      },\n      this.loaded.bind(this)\n    );\n  }\n}\n","import Component from 'flarum/Component';\nimport Button from 'flarum/components/Button';\nimport humanTime from 'flarum/helpers/humanTime';\nimport avatar from 'flarum/helpers/avatar';\n\nexport default class CommentDisplay extends Component {\n  init() {\n    super.init();\n  }\n\n  static initProps(props) {\n    super.initProps(props);\n  }\n\n  view() {\n      const comment = this.props.comment;\n      const user = comment.user();\n      const likes = comment.likes();\n      const isLiked = app.session.user && likes && likes.some(user => user === app.session.user);\n      return (<div className=\"comment-item\">\n        <div>\n          <div className=\"comment-avatar\">\n              {avatar(user, {style: \"width: 32px; height: 32px;\"})}\n          </div>\n          <div className=\"comment-content\">\n            <strong>{user.data.attributes.displayName}</strong>\n            <span>&nbsp;&nbsp;</span>\n            <em>{humanTime(comment.data.attributes.createdAt)}</em>\n            <div>{comment.data.attributes.content}</div>\n            { comment.data.attributes.canLike ? (\n              <Button className={`Button Button--link`} icon={isLiked ? \"fas fa-thumbs-up\" : \"far fa-thumbs-up\"} onclick={this.props.likeComment}>\n                {likes.length > 0 ? likes.length : app.translator.trans('flarum-likes.forum.post.like_link') }\n              </Button>) : ''}\n            <div class=\"comment-actions\">\n              { comment.data.attributes.canEdit ? (\n                <Button className={`Button Button--link`} icon=\"fas fa-pencil-alt\" onclick={this.props.editComment}>\n                    Edit\n              </Button>) : ''}\n              { comment.data.attributes.canDelete ? (\n              <Button className={`Button Button--link`} icon=\"fas fa-trash\" onclick={this.props.deleteComment}>\n                  Delete\n              </Button>) : '' }\n              { this.props.discussion.canReply && !comment.data.attributes.canEdit ? (\n              <Button className={`Button Button--link`} icon=\"fas fa-reply\" onclick={this.props.replyComment}>\n                  Reply\n              </Button>) : '' }\n              { this.props.post.canFlag && !comment.data.attributes.canEdit ? (\n              <Button className={`Button Button--link`} icon=\"fas fa-flag\">\n                  Flag\n              </Button>) : '' }\n              { comment.data.attributes.canHide ? (\n              <Button className={`Button Button--link`} icon=\"far fa-eye-slash\">\n                  Hide\n              </Button>) : '' }\n            </div>\n          </div>\n        </div>\n    </div>);\n  }\n}\n","import Component from 'flarum/Component';\nimport CommentDisplay from './CommentDisplay';\nimport EditCommentComposer from './EditCommentComposer';\nimport CommentComposer from './CommentComposer';\n\nexport default class CommentsList extends Component {\n  init() {\n    super.init();\n    // this.comments_data = m.prop(this.props.comments);\n  }\n\n  static initProps(props) {\n    super.initProps(props);\n  }\n\n  \n  insertMention(comment, component, quote) {\n    const user = comment.user();\n    const mention = '@' + (user ? user.username() : ''); // : comment.number()) + '#' + comment.id() + ' ';\n\n    // If the composer is empty, then assume we're starting a new reply.\n    // In which case we don't want the user to have to confirm if they\n    // close the composer straight away.\n    if (!component.content()) {\n      component.props.originalContent = mention;\n    }\n\n    const cursorPosition = component.editor.getSelectionRange()[0];\n    const preceding = component.editor.value().slice(0, cursorPosition);\n    const precedingNewlines = preceding.length == 0 ? 0 : 3 - preceding.match(/(\\n{0,2})$/)[0].length;\n\n    component.editor.insertAtCursor(\n      Array(precedingNewlines).join('\\n') + // Insert up to two newlines, depending on preceding whitespace\n      (quote\n        ? '> ' + mention + quote.trim().replace(/\\n/g, '\\n> ') + '\\n\\n'\n        : mention)\n    );\n  }\n\n  likeComment(context) {\n    console.log(\"Comment\", this);\n    const likes = this.likes();\n\n    let isLiked = app.session.user && likes && likes.some(user => user === app.session.user);\n\n    isLiked = !isLiked;\n\n    this.save({isLiked});\n\n    // We've saved the fact that we do or don't like the comment, but in order\n    // to provide instantaneous feedback to the user, we'll need to add or\n    // remove the like from the relationship data manually.\n    const data = this.data.relationships.likes.data;\n    data.some((like, i) => {\n      if (like.id === app.session.user.id()) {\n        data.splice(i, 1);\n        return true;\n      }\n    });\n\n    if (isLiked) {\n      data.unshift({type: 'users', id: app.session.user.id()});\n    }\n    context.props.context.props.post.freshness = new Date();\n    m.redraw();\n  }\n\n\n  replyComment(context) {\n    let component = app.composer.component;\n    const post = context.props.post;\n    if (component && component.props.comment && component.props.comment.id() === this.id()) {\n      context.insertMention(comment, component);\n    } else {\n      if (app.session.user) {\n        if (post.discussion().canReply()) {\n          component = app.composer.component;\n          if (!app.composingReplyTo(post.discussion()) || forceRefresh) {\n            console.log(\"Add reply composer.\", );\n            component = new CommentComposer({\n              user: app.session.user,\n              discussion: post.discussion(),\n              post: post,\n              comment: this,\n              to_user: this.user(),\n              target_frame: context\n            });\n            app.composer.load(component);\n          }\n          app.composer.show();\n          context.insertMention(this, component);\n  \n          if (app.viewingDiscussion(post.discussion()) && ! app.composer.isFullScreen()) {\n            app.current.stream.goToNumber('reply');\n          }\n        }\n      } else {\n        app.modal.show(new LogInModal());\n      }\n    }\n  } \n\n  editComment(context) {\n    const deferred = m.deferred();\n\n    const component = new EditCommentComposer({ comment: this, post: context.props.post, discussion: context.props.discussion });\n\n    app.composer.load(component);\n    app.composer.show();\n\n    deferred.resolve(component);\n\n    return deferred.promise;\n  };\n\n  deleteComment(context) {\n    console.log(\"Context\", context);\n    context.props.context.loading = true;\n    m.redraw();\n    this.delete().then(() => {\n      console.log(\"context.props.post\", context.props.post);\n      context.props.context.props.post.removeComment(this.id());\n      context.props.context.props.post.data.attributes.content = \"wtf\";\n      context.props.context.props.post.data.attributes.contentHtml = \"wtf\";\n      context.props.context.props.post.freshness = new Date();\n    }).then(() => {\n      console.log(\"What?\", context.view());\n      context.props.context.loading = false;\n      m.redraw();\n      //m.route.set(\"/\");\n    });\n  };\n\n  view() {\n    return <div class=\"comments-list\">\n      {\n        this.props.comments.map((comment, i) => {\n          return <CommentDisplay\n            discussion={this.props.discussion}\n            post={this.props.post}\n            comment={comment}\n            replyComment={this.replyComment.bind(comment, this)}\n            likeComment={this.likeComment.bind(comment, this)}\n            editComment={this.editComment.bind(comment, this)}\n            deleteComment={this.deleteComment.bind(comment, this)}\n          />\n        })\n      }\n    </div>;\n  }\n}\n\n","import ComposerBody from 'flarum/components/ComposerBody';\nimport icon from 'flarum/helpers/icon';\n\nfunction minimizeComposerIfFullScreen(e) {\n    if (app.composer.isFullScreen()) {\n        app.composer.minimize();\n        e.stopPropagation();\n    }\n}\n/**\n * The `EditPostComposer` component displays the composer content for editing a\n * post. It sets the initial content to the content of the post that is being\n * edited, and adds a header control to indicate which post is being edited.\n *\n * ### Props\n *\n * - All of the props for ComposerBody\n * - `post`\n */\nexport default class EditCommentComposer extends ComposerBody {\n  init() {\n    super.init();\n\n    this.editor.props.preview = e => {\n      minimizeComposerIfFullScreen(e);\n\n      m.route(app.route.post(this.props.post));\n    };\n  }\n\n  static initProps(props) {\n    super.initProps(props);\n\n    props.submitLabel = props.submitLabel || app.translator.trans('core.forum.composer_edit.submit_button');\n    props.confirmExit = props.confirmExit || app.translator.trans('core.forum.composer_edit.discard_confirmation');\n    props.originalContent = props.originalContent || props.comment.content();\n    props.user = props.user || props.comment.user();\n\n    props.comment.editedContent = props.originalContent;\n  }\n\n  headerItems() {\n    const items = super.headerItems();\n    const comment = this.props.comment;\n    const post = this.props.post;\n    const discussion = this.props.discussion;\n\n    const routeAndMinimize = function(element, isInitialized) {\n      if (isInitialized) return;\n      $(element).on('click', minimizeComposerIfFullScreen);\n      m.route.apply(this, arguments);\n    };\n\n    items.add('title', (\n      <h3>\n        {icon('fas fa-pencil-alt')} {' '}\n        <a href={app.route.discussion(discussion, post.number())} config={routeAndMinimize}>\n          {app.translator.trans('core.forum.composer_edit.post_link', {number: comment.number(), discussion: discussion.title()})}\n        </a>\n      </h3>\n    ));\n\n    return items;\n  }\n\n  /**\n   * Get the data to submit to the server when the comment is saved.\n   *\n   * @return {Object}\n   */\n  data() {\n    return {\n      content: this.content()\n    };\n  }\n\n  onsubmit() {\n    this.loading = true;\n\n    const data = this.data();\n\n    this.props.comment.save(data).then(\n      () => app.composer.hide(),\n      this.loaded.bind(this)\n    ).then(() => {\n      this.props.post.freshness = new Date();\n      m.redraw();\n    });\n  }\n}\n","import { extend } from 'flarum/extend';\r\nimport Button from 'flarum/components/Button';\r\nimport CommentPost from 'flarum/components/CommentPost';\r\nimport DiscussionControls from 'flarum/utils/DiscussionControls';\r\nimport CommentComposer from './components/CommentComposer';\r\nimport LogInModal from 'flarum/components/LogInModal';\r\nimport Model from 'flarum/Model';\r\nimport Comment from './models/Comment';\r\nimport CommentsList from './components/CommentsList';\r\n\r\n/**\r\n * TODO:\r\n *  - Permission\r\n *  - Hide\r\n *  - Notification\r\n *  - Layout adjustment\r\n * **/ \r\n\r\nfunction insertMention(post, component, quote) {\r\n  const user = post.user();\r\n  const mention = '@' + (user ? user.username() : post.number()) + '#' + post.id() + ' ';\r\n\r\n  // If the composer is empty, then assume we're starting a new reply.\r\n  // In which case we don't want the user to have to confirm if they\r\n  // close the composer straight away.\r\n  if (!component.content()) {\r\n    component.props.originalContent = mention;\r\n  }\r\n\r\n  const cursorPosition = component.editor.getSelectionRange()[0];\r\n  const preceding = component.editor.value().slice(0, cursorPosition);\r\n  const precedingNewlines = preceding.length == 0 ? 0 : 3 - preceding.match(/(\\n{0,2})$/)[0].length;\r\n\r\n  component.editor.insertAtCursor(\r\n    Array(precedingNewlines).join('\\n') + // Insert up to two newlines, depending on preceding whitespace\r\n    (quote\r\n      ? '> ' + mention + quote.trim().replace(/\\n/g, '\\n> ') + '\\n\\n'\r\n      : mention)\r\n  );\r\n}\r\n\r\nfunction reply(post, quote, context) {\r\n  const component = app.composer.component;\r\n  if (component && component.props.post && component.props.post.discussion() === post.discussion()) {\r\n    insertMention(post, component, quote);\r\n  } else {\r\n    \r\n    if (app.session.user) {\r\n      if (post.discussion().canReply()) {\r\n        let component = app.composer.component;\r\n        if (!app.composingReplyTo(post.discussion()) || forceRefresh) {\r\n          console.log(\"Add reply composer.\", );\r\n          component = new CommentComposer({\r\n            user: app.session.user,\r\n            discussion: post.discussion(),\r\n            post: post,\r\n            to_user: post.user(),\r\n            target_frame: context \r\n          });\r\n          app.composer.load(component);\r\n        }\r\n        app.composer.show();\r\n\r\n        if (app.viewingDiscussion(post.discussion()) && ! app.composer.isFullScreen()) {\r\n          app.current.stream.goToNumber('reply');\r\n        }\r\n      }\r\n    } else {\r\n      app.modal.show(new LogInModal());\r\n    }\r\n\r\n  }\r\n} \r\n\r\napp.initializers.add('simonxeko/post-comments', () => {\r\n  console.log('[simonxeko/post-comments] Hello, forum! 123');\r\n  app.store.models.posts.prototype.comments = Model.hasMany('comments');\r\n  app.store.models.posts.prototype.removeComment = function(id) {\r\n    const relationships = this.data.relationships;\r\n    const comments = relationships && relationships.comments;\r\n    if (comments) {\r\n      comments.data.some((data, i) => {\r\n        if (id === data.id) {\r\n          comments.data.splice(i, 1);\r\n          return true;\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  app.store.models.comments = Comment;\r\n\r\n  extend(CommentPost.prototype, 'actionItems', function (items) {\r\n\r\n    const post = this.props.post;\r\n\r\n    if (post.isHidden() || (app.session.user && !post.discussion().canReply())) return;\r\n\r\n    items.replace('reply',\r\n      Button.component({\r\n        className: 'Button Button--link',\r\n        children: app.translator.trans('flarum-mentions.forum.post.reply_link'),\r\n        onclick: () => reply(post, null, this)\r\n      })\r\n    );\r\n  });\r\n\r\n  extend(CommentPost.prototype, 'footerItems', function(items) {\r\n    const post = this.props.post;\r\n    if (post) {\r\n      if (post.data.attributes.contentHtml) {\r\n        const comments = this.props.post.comments();\r\n        if (comments.length > 0) {\r\n          items.add('comments', <CommentsList context={this} discussion={this.props.post.discussion()} post={this.props.post} comments={this.props.post.comments()} />);\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n});\r\n","import Model from 'flarum/Model';\nimport computed from 'flarum/utils/computed';\nimport { getPlainContent } from 'flarum/utils/string';\n\nexport default class Comment extends Model {}\n\nObject.assign(Comment.prototype, {\n  number: Model.attribute('number'),\n  discussion: Model.hasOne('discussion'),\n  post: Model.hasOne('post'),\n\n  createdAt: Model.attribute('createdAt', Model.transformDate),\n  user: Model.hasOne('user'),\n\n  contentType: Model.attribute('contentType'),\n  content: Model.attribute('content'),\n  contentHtml: Model.attribute('contentHtml'),\n  contentPlain: computed('contentHtml', getPlainContent),\n\n  editedAt: Model.attribute('editedAt', Model.transformDate),\n  editedUser: Model.hasOne('editedUser'),\n  isEdited: computed('editedAt', editedAt => !!editedAt),\n\n  hiddenAt: Model.attribute('hiddenAt', Model.transformDate),\n  hiddenUser: Model.hasOne('hiddenUser'),\n  isHidden: computed('hiddenAt', hiddenAt => !!hiddenAt),\n\n  canEdit: Model.attribute('canEdit'),\n  canHide: Model.attribute('canHide'),\n  canDelete: Model.attribute('canDelete'),\n\n  likes: Model.hasMany('likes')\n});\n","module.exports = flarum.core.compat['Component'];","module.exports = flarum.core.compat['Model'];","module.exports = flarum.core.compat['components/Alert'];","module.exports = flarum.core.compat['components/Button'];","module.exports = flarum.core.compat['components/CommentPost'];","module.exports = flarum.core.compat['components/ComposerBody'];","module.exports = flarum.core.compat['components/LogInModal'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['helpers/avatar'];","module.exports = flarum.core.compat['helpers/humanTime'];","module.exports = flarum.core.compat['helpers/icon'];","module.exports = flarum.core.compat['utils/DiscussionControls'];","module.exports = flarum.core.compat['utils/computed'];","module.exports = flarum.core.compat['utils/extractText'];","module.exports = flarum.core.compat['utils/string'];"],"sourceRoot":""}